---
ruby_version: 1.9.3-p448
master: <%= @config[:master] %>
master_ssh_key: <%= @config[:ssh_key] %>

nginx_redirects: <%= @components[:nginx].redirects.present? %>

<% if @components[:fwd].enabled? %>
fwd_server: <%= @components[:fwd].public_host %>
fwd_ssl_path: <%= BinarySolo::Ssl.new.path_for_domain(@components[:fwd].public_host) %>
<% end %>

<% if @components[:gitolite].enabled? %>
gitolite_public_key: <%= @components[:gitolite].ssh_key || @config[:ssh_key] %>.pub
gitolite_private_key: <%= @components[:gitolite].ssh_key || @config[:ssh_key] %>
<% end %>

<% if @components[:stringer].enabled? %>
stringer_server: <%= @components[:stringer].public_host || '127.0.0.1' %>
stringer_postgres_user_password: <%= @components[:stringer].postgres_user_password %>
stringer_password: <%= @components[:stringer].password %>
stringer_interval: <%= @components[:stringer].interval || 30 %>
stringer_ssl_path: <%= BinarySolo::Ssl.new.path_for_domain(@components[:stringer].public_host) %>
<% end %>

<% if @components[:jekyll].enabled? %>
jekyll_server: <%= @components[:jekyll].public_host || '127.0.0.1' %>
<% if @components[:jekyll].template_repo %>
jekyll_template_repo: <%= @components[:jekyll].template_repo %>
jekyll_template_branch: <%= @components[:jekyll].template_branch || 'master' %>
<% end %>
jekyll_public_key: <%= @config[:ssh_key] %>.pub
<% end %>

<% if ssl_base_path = BinarySolo::Ssl.new.base_path %>
ssl_base_path: <%= ssl_base_path %>
ssl_files: <%= BinarySolo::Ssl.new.files_for_nginx %>
ssl_directories: <%= BinarySolo::Ssl.new.ssl_directories %>
<% end %>